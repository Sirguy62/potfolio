{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/edwingospel/Desktop/CLI/Mixpal/my-app/app/api/search-by-coordinates/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\n\nexport async function GET(req: Request) {\n  const { searchParams } = new URL(req.url);\n\n  const lat = searchParams.get(\"lat\");\n  const lon = searchParams.get(\"lon\");\n\n  if (!lat || !lon) {\n    return NextResponse.json({ error: \"Missing coordinates\" }, { status: 400 });\n  }\n\n  const host = process.env.RAPID_HOST;\n  const key = process.env.RAPID_KEY;\n\n  if (!host || !key) {\n    return NextResponse.json(\n      { error: \"Missing RapidAPI credentials\" },\n      { status: 500 }\n    );\n  }\n\n  try {\n    const url =\n      `https://${host}/v1/hotels/search-by-coordinates?` +\n      new URLSearchParams({\n        latitude: lat,\n        longitude: lon,\n        adults_number: \"1\",\n        room_number: \"1\",\n        page_number: \"0\",\n        units: \"metric\",\n        order_by: \"popularity\",\n        include_adjacency: \"true\",\n        checkin_date: getDate(1),\n        checkout_date: getDate(2),\n        locale: \"en-gb\",\n        filter_by_currency: \"USD\",\n      });\n\n    const res = await fetch(url, {\n      headers: {\n        \"X-RapidAPI-Key\": key,\n        \"X-RapidAPI-Host\": host,\n      },\n      cache: \"no-store\",\n    });\n\n    const data = await res.json();\n\n    return NextResponse.json(data);\n  } catch (err) {\n    console.error(\"Coordinate hotel error:\", err);\n    return NextResponse.json(\n      { error: \"Failed to fetch nearby hotels\" },\n      { status: 500 }\n    );\n  }\n}\n\nfunction getDate(offset: number) {\n  const d = new Date();\n  d.setDate(d.getDate() + offset);\n  return d.toISOString().split(\"T\")[0];\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,GAAY;IACpC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;IAExC,MAAM,MAAM,aAAa,GAAG,CAAC;IAC7B,MAAM,MAAM,aAAa,GAAG,CAAC;IAE7B,IAAI,CAAC,OAAO,CAAC,KAAK;QAChB,OAAO,yLAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAsB,GAAG;YAAE,QAAQ;QAAI;IAC3E;IAEA,MAAM,OAAO,QAAQ,GAAG,CAAC,UAAU;IACnC,MAAM,MAAM,QAAQ,GAAG,CAAC,SAAS;IAEjC,IAAI,CAAC,QAAQ,CAAC,KAAK;QACjB,OAAO,yLAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA+B,GACxC;YAAE,QAAQ;QAAI;IAElB;IAEA,IAAI;QACF,MAAM,MACJ,CAAC,QAAQ,EAAE,KAAK,iCAAiC,CAAC,GAClD,IAAI,gBAAgB;YAClB,UAAU;YACV,WAAW;YACX,eAAe;YACf,aAAa;YACb,aAAa;YACb,OAAO;YACP,UAAU;YACV,mBAAmB;YACnB,cAAc,QAAQ;YACtB,eAAe,QAAQ;YACvB,QAAQ;YACR,oBAAoB;QACtB;QAEF,MAAM,MAAM,MAAM,MAAM,KAAK;YAC3B,SAAS;gBACP,kBAAkB;gBAClB,mBAAmB;YACrB;YACA,OAAO;QACT;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAE3B,OAAO,yLAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,yLAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAgC,GACzC;YAAE,QAAQ;QAAI;IAElB;AACF;AAEA,SAAS,QAAQ,MAAc;IAC7B,MAAM,IAAI,IAAI;IACd,EAAE,OAAO,CAAC,EAAE,OAAO,KAAK;IACxB,OAAO,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;AACtC","debugId":null}}]
}