{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/edwingospel/Desktop/CLI/Mixpal/my-app/app/api/hotels/route.ts"],"sourcesContent":["\n\nimport { NextResponse } from \"next/server\";\n\nexport async function GET(req: Request): Promise<NextResponse> {\n  const { searchParams } = new URL(req.url);\n\n  const city = searchParams.get(\"city\");\n  const lat = searchParams.get(\"lat\");\n  const lon = searchParams.get(\"lon\");\n\n  const host = process.env.RAPID_HOST; // booking-com.p.rapidapi.com\n  const key = process.env.RAPID_KEY;\n\n  if (!host || !key) {\n    return NextResponse.json(\n      { error: \"Missing RapidAPI credentials\" },\n      { status: 500 }\n    );\n  }\n\n  try {\n    // üîé City search\n    if (city) {\n      const url = `https://${host}/v1/hotels/locations?name=${encodeURIComponent(\n        city\n      )}&locale=en-gb`;\n\n      const res = await fetch(url, {\n        headers: {\n          \"X-RapidAPI-Key\": key,\n          \"X-RapidAPI-Host\": host,\n        },\n      });\n\n      const data = await res.json();\n      console.log(\"LOCATION RESPONSE:\", data);\n\n      return NextResponse.json(Array.isArray(data) ? data : []);\n    }\n\n    // üìç GPS Search\n    if (lat && lon) {\n      const url = `https://${host}/v1/hotels/locations?latitude=${lat}&longitude=${lon}&locale=en-gb`;\n\n      const res = await fetch(url, {\n        headers: {\n          \"X-RapidAPI-Key\": key,\n          \"X-RapidAPI-Host\": host,\n        },\n      });\n\n      const data = await res.json();\n      console.log(\"LOCATION RESPONSE (GPS):\", data);\n\n      return NextResponse.json(Array.isArray(data) ? data : []);\n    }\n\n    return NextResponse.json([]);\n  } catch (err) {\n    console.error(\"API ERROR:\", err);\n    return NextResponse.json([], { status: 500 });\n  }\n}"],"names":[],"mappings":";;;;AAEA;;AAEO,eAAe,IAAI,GAAY;IACpC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;IAExC,MAAM,OAAO,aAAa,GAAG,CAAC;IAC9B,MAAM,MAAM,aAAa,GAAG,CAAC;IAC7B,MAAM,MAAM,aAAa,GAAG,CAAC;IAE7B,MAAM,OAAO,QAAQ,GAAG,CAAC,UAAU,EAAE,6BAA6B;IAClE,MAAM,MAAM,QAAQ,GAAG,CAAC,SAAS;IAEjC,IAAI,CAAC,QAAQ,CAAC,KAAK;QACjB,OAAO,yLAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA+B,GACxC;YAAE,QAAQ;QAAI;IAElB;IAEA,IAAI;QACF,iBAAiB;QACjB,IAAI,MAAM;YACR,MAAM,MAAM,CAAC,QAAQ,EAAE,KAAK,0BAA0B,EAAE,mBACtD,MACA,aAAa,CAAC;YAEhB,MAAM,MAAM,MAAM,MAAM,KAAK;gBAC3B,SAAS;oBACP,kBAAkB;oBAClB,mBAAmB;gBACrB;YACF;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,QAAQ,GAAG,CAAC,sBAAsB;YAElC,OAAO,yLAAY,CAAC,IAAI,CAAC,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;QAC1D;QAEA,gBAAgB;QAChB,IAAI,OAAO,KAAK;YACd,MAAM,MAAM,CAAC,QAAQ,EAAE,KAAK,8BAA8B,EAAE,IAAI,WAAW,EAAE,IAAI,aAAa,CAAC;YAE/F,MAAM,MAAM,MAAM,MAAM,KAAK;gBAC3B,SAAS;oBACP,kBAAkB;oBAClB,mBAAmB;gBACrB;YACF;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,QAAQ,GAAG,CAAC,4BAA4B;YAExC,OAAO,yLAAY,CAAC,IAAI,CAAC,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;QAC1D;QAEA,OAAO,yLAAY,CAAC,IAAI,CAAC,EAAE;IAC7B,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,cAAc;QAC5B,OAAO,yLAAY,CAAC,IAAI,CAAC,EAAE,EAAE;YAAE,QAAQ;QAAI;IAC7C;AACF","debugId":null}}]
}